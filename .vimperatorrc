set guioptions=b
set editor=emacsclient -f

set nextpattern=\s*下一页|下一张|下一篇|下一頁|下页|后页\s*,^\bnext\b,\bnext\b,\bsuivant\b,^>$,^(>>|››|»)$,^(>|»),(>|»)$,\bmore\b
set previouspattern=\s*上一页|上一张|上一篇|上一頁|上页|前页\s*,^\bprev|previous\b,\bprev|previous\b,\bprécédent\b,^<$,^(<<|‹‹|«)$,^(<|«),(<|«)$


"键盘映射
map <S-Up> :set go=m<CR>
map <S-Down> :set go=mTb<CR>
map <S-Left> :set go=T<CR>
map <S-Right> :set go=b<CR>
"norema
"noremap k e
noremap J <C-d>
noremap K <C-u>
unmap h
unmap l
unmap <C-x>

set wildoptions=auto
set cpt=l

js<<EOF
//UserAgent Switcher 
liberator.globalVariables['sx_uas'] = 0  
switch_useragent = function () {
    pre_useragents_list = [
    //name, ua, appname, appversion, platform,
        ['(Firefox) default', '', '', '', ''],
 
        ['M$ IE7', 'Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 5.1)',
                 'Microsoft Internet Explorer',,
                 '4.0 (compatible; MSIE 7.0; Windows NT 6.0)',
                 'Win32',
            ],
 
        ['Google Bot', 'Mozilla/5.0 (compatible; Googlebot/2.1; +http://www.google.com/bot.html)', '', '', ''
            ],
        ['link2', 'Links (2.1pre15; FreeBSD 5.3-RELEASE i386; 196x84)', '', '', 
    ''],
        ['Safari', 'Mozilla/5.0 (Macintosh; U; PPC Mac OS X; en) AppleWebKit/125.2 (KHTML, like Gecko) Safari/125.8','','',''],
        ['Chrome', 'Mozilla/5.0 (X11; U; Linux i686; en-US) AppleWebKit/525.13 (KHTML, like Gecko) Chrome/0.1.1.1 Safari/525.13.','','',''],
        ['opera', 'opera/9.20 (X11, Linux i686; U; en)', 'opera', '9.20 (Linux i686; U; en)', 'Linux'],
        ['Safari(iPhone)', 'Mozilla/5.0 (iPhone; U; CPU like Mac OS X; en) AppleWebKit/420+ (KHTML, like Gecko) Version/3.0 Mobile/1A543a Safari/419.3', '','',''],
        ['BlackBerry', 'BlackBerry8300/4.5.0Profile/MIDP-2.0 Configuration/CLDC-1.1', '', '', ''], 
        ['T-Mobile G1', 'Mozilla/5.0 (Linux; U; Android 1.0; en-us; dream) AppleWebKit/5.25.10+ (KHTML, like Gecko) Version/3.0.4 Mobile Safari/523.12.2', '','',''],
 
    ];
 
    if (liberator.globalVariables['sx_uas'] == pre_useragents_list.length-1)
        liberator.globalVariables['sx_uas'] = 0;
    else
        liberator.globalVariables['sx_uas'] += 1;
 
    var key = liberator.globalVariables['sx_uas'];
    var name = pre_useragents_list[key][0];
    liberator.execute('set! general.useragent.override=\'' + pre_useragents_list[key][1] + '\'');
    //`echo` doesn't work? wtf
    //liberator.execute('echo \'Use UA: '+ name + '\'');
    document.getElementById('liberator-message').value='Use UserAgent: '+ name; 
 
}
EOF

map <silent> <F3> :js switch_useragent()<CR>
